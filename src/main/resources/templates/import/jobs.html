<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Banco | Luis Miguel Urbez</title>
</head>
<body>
<div layout:fragment="content" >
    <h1 style="border-bottom: 2px solid #4c4b4b; padding: 1rem;">Añadir archivos de usuario</h1>
    <p style="padding: 1rem; text-align: center;">Desde aqui puedes añadir nuevos usuarios usando un archivo csv. Por limitaciones de la web solo se puede usar un csv determinado.<br>
        Este csv se puede encontrar proporcionado en la siguiente pagina web, desde la cual tras descargarlo puede usarlo para importar los usuarios<br>
    <h2 style="text-align: center; text-decoration: none; color: white; margin: 0; padding: 0"><a href="https://www.mockaroo.com/schemas/585388" target="_blank">Web del csv</a></h2><br>
    <p style=" text-align: center;">Una vez entres al link solo tienes que pulsar sobre el boton verde "GENERATE DATA", te descargara un archivo CSV que podras usar para importarlo mas abajo</p>
    <form method="POST" action="/upload" enctype="multipart/form-data">
        <input type="file" name="file" accept=".csv">
        <button type="submit">Subir archivo</button>
    </form>

</div>
<script>
    document.querySelector('form').addEventListener('submit', function(event) {
        var fileInput = document.querySelector('input[type=file]');
        var fileName = fileInput.value;

        if (!fileName.endsWith('.csv')) {
            alert('Por favor, sube un archivo CSV.');
            event.preventDefault(); // Cancela el envío del formulario
        }
    });
</script>
</body>
</html>